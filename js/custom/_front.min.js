var THEMEREX_ADMIN_MODE=false;var THEMEREX_error_msg_box=null;var THEMEREX_VIEWMORE_BUSY=false;var THEMEREX_REMEMBERSCROLL=0;var THEMEREX_isotopeInitCounter=0;var THEMEREX_isotopeMemoryID="";var THEMEREX_isotopeFilter="*";jQuery(document).ready(function(){timelineResponsive();ready();itemPageFull();scrollAction();fullSlider()});jQuery(window).resize(function(){itemPageFull();timelineResponsive();fullSlider();scrollAction()});jQuery(window).smartresize(function(){mobileMenuShow()});jQuery(window).scroll(function(){scrollAction()});function ready(){if(jQuery("textarea.textAreaSize").length>0){jQuery("textarea.textAreaSize").autosize({append:"\n"})}if(jQuery("ul.shareDrop").length>0){jQuery(document).on("click",function(a){jQuery("ul.shareDrop").slideUp().siblings("a.shareDrop").removeClass("selected")});jQuery("li.share a").on("click",function(a){if(jQuery(this).hasClass("selected")){jQuery(this).removeClass("selected").siblings("ul.shareDrop").slideUp()}else{jQuery(this).addClass("selected").siblings("ul.shareDrop").slideDown()}a.preventDefault();return false});jQuery("li.share li a").on("click",function(a){jQuery(this).parents("ul.shareDrop").slideUp().siblings("a.shareDrop").removeClass("selected");a.preventDefault();return false})}jQuery(".postSharing,.masonryMore").on("click",".likeButton a",function(g){var d=jQuery(this).parent();var f=d.hasClass("like")?1:-1;var c=d.data("postid");var b=Number(d.data("likes"))+f;var a=jQuery.cookie("grecko_likes");if(a===undefined){a=""}jQuery.post(THEMEREX_ajax_url,{action:"post_counter",nonce:THEMEREX_ajax_nonce,post_id:c,likes:b}).done(function(e){var h=JSON.parse(e);if(h.error===""){if(f==1){var i=d.data("title-dislike");d.removeClass("like").addClass("likeActive");a+=(a.substr(-1)!=","?",":"")+c+","}else{var i=d.data("title-like");d.removeClass("likeActive").addClass("like");a=a.replace(","+c+",",",")}d.data("likes",b).find("a").attr("title",i).find(".likePost").html(b);jQuery.cookie("grecko_likes",a,{expires:365,path:"/"})}else{themerex_message_warning(THEMEREX_MESSAGE_ERROR_LIKE)}});g.preventDefault();return false});jQuery(".hoverIncrease").each(function(){var a=jQuery(this).data("image");var b=jQuery(this).data("title");if(a){jQuery(this).append('<span class="hoverShadow"></span><a href="'+a+'" title="'+b+'"><span class="hoverIcon"></span></a>')}});if(jQuery(".isotopeWrap").length>0){jQuery(".isotopeWrap").each(function(){isotopeFilterClass("*");var c=jQuery(this);var d=c.find(".isotopeItem");var b=c.width();var f=c.data("foliosize");var e=jQuery(this).data("incw");var g=jQuery(this).data("inch");d.each(function(){var i=jQuery(this).data("incw");var j=jQuery(this).data("inch");var h=isotopeResizeMath(b,f,i,j);jQuery(this).filter(":not(fullItemWrap)").css({width:h[0],height:h[1]});jQuery(this).find(".isotopeItemWrap").css({height:h[1]})});var a=isotopeResizeMath(b,f,e,g);c.isotope({layoutMode:"masonry",resizable:false,filter:THEMEREX_isotopeFilter,masonry:{columnWidth:a[0]},itemSelector:".isotopeItem",animationOptions:{duration:750,easing:"linear",queue:false}});isotopeRow(c,d);setTimeout(function(){isotoreEffect()},200);isotopeResize(c,d);c.on("click","article.isotopeItem",function(){isotopeRemove(c,jQuery(this).parent(".fullItemWrap"));if(jQuery(this).hasClass("post_format_link")){location.href=jQuery(this).find(".isotopeLinks").attr("href")}else{var h=jQuery(window).scrollTop();isotopeRow(c,d);isotopeAjaxLoad(c,jQuery(this));jQuery("html,body").animate({scrollTop:h},0)}});c.on("click",".isotopeNav",function(){var h=jQuery(this).data("nav-id");isotopeAjaxLoad(c,jQuery('.isotopeItem[data-postid="'+h+'"]'))});c.on("click",".fullItemClosed",function(){isotopeRemove(c,jQuery(this).parent(".fullItemWrap"))});jQuery(".isotopeFiltr li a").on("click",function(){jQuery(".isotopeFiltr li").removeClass("active");jQuery(this).parent().addClass("active");var h=jQuery(this).attr("data-filter");isotopeFilterClass(h);c.isotope({layoutMode:"masonry",itemSelector:".isotopeItem",filter:h,animationOptions:{duration:750,easing:"linear",queue:false}}).isotope("on","layoutComplete",function(){isotopeRow(c,d)});THEMEREX_isotopeFilter=h;return false});jQuery("#custom_options .co_switch_box a").on("click",function(j){var i=jQuery(this).parent(".co_switch_box");var h=i.data("options");if(h=="body_style"){jQuery(window).resize()}})})}if(jQuery(".sliderBullets, .sliderHeader").length>0){if(jQuery.rsCSS3Easing!=undefined&&jQuery.rsCSS3Easing!=null){jQuery.rsCSS3Easing.easeOutBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)"}jQuery(".sliderHeader").addClass("hsInit");initShortcodes(jQuery(this))}jQuery(document).on("click",function(){jQuery(".pageFocusBlock").slideUp()});jQuery(".pageFocusBlock").on("click",function(a){a.preventDefault();return false});jQuery(".navInput").on("click",function(a){jQuery(".pageFocusBlock").slideDown();a.preventDefault();return false});jQuery(".postBoxItem").on("click",function(){var a=jQuery(this).find("h5 a").attr("href");if(a!=""){window.location.href=a}});jQuery(".topMenu ul, .usermenuArea ul").superfish({delay:500,animation:{opacity:"show",height:"show"},animationOut:{opacity:"hide",height:"hide"},speed:"fast",autoArrows:false,dropShadows:false});jQuery(document).on("click",function(){jQuery(".hideMenuDisplay #header").removeClass("topMenuShow")});jQuery(".hideMenuDisplay .wrapTopMenu").on("click",function(a){a.stopPropagation()});jQuery(".hideMenuDisplay .openTopMenu").on("click",function(a){a.stopPropagation();jQuery(this).parent().toggleClass("topMenuShow");return false});jQuery(".sidemenu_area > ul > li.dropMenu ").on("click",function(a){a.preventDefault();return false});jQuery(".sidemenu_area > ul > li.dropMenu, .sidemenu_area > ul > li.dropMenu li").on("click",function(a){initScroll("sidemenu_scroll");jQuery(this).toggleClass("dropOpen");jQuery(this).find("ul").first().slideToggle();a.preventDefault();return false});jQuery("#sidemenu_scroll a").on("click",function(a){initScroll("sidemenu_scroll");jQuery("#sidemenu_scroll").mCustomScrollbar("update");a.preventDefault();return false});jQuery(document).on("click",function(a){jQuery("body").removeClass("openMenuFixRight openMenuFix");jQuery(".sidemenu_overflow").fadeOut(400);jQuery("body").attr("style","")});jQuery(".sidemenu_wrap.swpLeftPos, .swpRightPos, .openRightMenu").on("click",function(a){a.preventDefault();return false});jQuery(".sidemenu_wrap .sidemenu_button").on("click",function(a){jQuery("body").addClass("openMenuFix");if(jQuery(".sidemenu_overflow").length==0){jQuery("body").append('<div class="sidemenu_overflow"></div>')}jQuery(".sidemenu_overflow").fadeIn(400);jQuery("body").css("overflow","hidden");a.preventDefault();return false});jQuery(".openRightMenu").on("click",function(a){jQuery("body").addClass("openMenuFixRight");if(jQuery(".sidemenu_overflow").length==0){jQuery("body").append('<div class="sidemenu_overflow"></div>')}jQuery(".sidemenu_overflow").fadeIn(400);jQuery("body").css("overflow","hidden");a.preventDefault();return false});jQuery(" .portfolio > .isotopeItem > .hoverDirShow").each(function(){jQuery(this).hoverdir()});if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){jQuery(".toggleButton").show();jQuery(".itemDescriptionWrap,.toggleButton").on("click",function(a){jQuery(this).toggleClass("descriptionShow");jQuery(this).find(".toggleDescription").slideToggle();a.preventDefault();return false})}else{jQuery(".itemDescriptionWrap").on({mouseenter:function(){jQuery(this).toggleClass("descriptionShow");jQuery(this).find(".toggleDescription").slideToggle()},mouseleave:function(){}})}jQuery('input[type="text"], input[type="password"], input[type="search"], textarea').focus(function(){jQuery(this).attr("data-placeholder",jQuery(this).attr("placeholder")).attr("placeholder","");jQuery(this).parent("li").addClass("iconFocus")}).blur(function(){jQuery(this).attr("placeholder",jQuery(this).attr("data-placeholder"));jQuery(this).parent("li").removeClass("iconFocus")});jQuery(".openMobileMenu").on("click",function(b){var a=jQuery(".wrapTopMenu .topMenu > ul");a.slideToggle();jQuery(this).parents(".menuFixedWrap").toggleClass("menuMobileShow");b.preventDefault();return false});if(jQuery("iframe").length>0){jQuery(window).resize(function(){videoDimensions()});videoDimensions()}if(jQuery("#nav_pages > ul > li").length<3){jQuery("#nav_pages").remove()}else{jQuery(".theme_paginaton a").addClass("theme_button")}jQuery("#viewmore_link").on("click",function(a){a.preventDefault();return false});if(jQuery("#viewmore_link.pagination_infinite").length>0){jQuery(window).scroll(infiniteScroll)}if(jQuery("#custom_options").length>0){jQuery("#custom_options .sc_scroll").css("height",jQuery("#custom_options").height()-46)}jQuery(".buttonScrollUp").on("click",function(a){jQuery("html,body").animate({scrollTop:0},"slow");a.preventDefault();return false});jQuery(".woocommerce  ul.products li.product h3").each(function(){var a=jQuery(this).html();if(jQuery(this).html().length>20){a=a.substr(0,20)+".."}jQuery(this).html(a)});initPostFormats()}function videoDimensions(){jQuery("iframe").each(function(){var d=jQuery(this).eq(0);var b=d.attr("width");var e=d.attr("height");if(!b||!e){return}var a=d.width();if(a!=b){var c=Math.round(a/b*e);d.height(c)}})}function initPostFormats(){if(THEMEREX_useMediaElement){if(jQuery("audio").length>0){jQuery("audio").each(function(){if(jQuery(this).hasClass("inited")){return}jQuery(this).addClass("inited").mediaelementplayer({audioWidth:"100%",audioHeight:30,success:function(b,c){jQuery(c).parents(".sc_audio").addClass("sc_audio_show")}})})}jQuery("video").each(function(){if(jQuery(this).hasClass("inited")){return}jQuery(this).addClass("inited").mediaelementplayer({videoWidth:-1,videoHeight:-1,audioWidth:"100%",audioHeight:30})})}else{jQuery(".sc_audio").addClass("sc_audio_show")}jQuery("a[href$='jpg']:not(.prettyphoto),a[href$='jpeg']:not(.prettyphoto),a[href$='png']:not(.prettyphoto),a[href$='gif']:not(.prettyphoto)").attr("rel","magnific");jQuery("a[rel*='magnific']:not(.inited)").addClass("inited").attr("data-effect",THEMEREX_MAGNIFIC_EFFECT_OPEN).magnificPopup({type:"image",closeOnContentClick:true,closeBtnInside:true,fixedContentPos:true,removalDelay:500,midClick:true,preloader:true,gallery:{enabled:true},tLoading:"<span></span>",image:{tError:THEMEREX_MAGNIFIC_ERROR,verticalFit:true},callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim");this.st.mainClass=this.st.el.attr("data-effect")}}});jQuery("a[href*='youtube'],a[href*='vimeo']").attr("rel","magnific-video");jQuery("a[rel*='magnific-video']:not(.inited)").addClass("inited").attr("data-effect",THEMEREX_MAGNIFIC_EFFECT_OPEN).magnificPopup({type:"iframe",closeOnContentClick:true,closeBtnInside:true,fixedContentPos:true,removalDelay:500,midClick:true,preloader:true,callbacks:{open:function(){},close:function(){}}});jQuery(".user-popup-link:not(.inited)").addClass("inited").magnificPopup({type:"inline",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-zoom-in";initShortcodes(jQuery(".sc_popup"))},open:function(){jQuery("html").css({overflow:"visible",margin:0})},close:function(){}},midClick:true});jQuery(".sc_video_frame").each(function(){if(jQuery(this).hasClass("sc_inited")){return}if(jQuery(this).hasClass("sc_video_frame_auto_play")){a(jQuery(this))}jQuery(this).addClass("sc_inited").on("click",function(b){a(jQuery(this));b.preventDefault()})});jQuery(".sc_video_frame").on({mouseenter:function(){jQuery(this).find(".sc_video_frame_player_title").slideDown(400)},mouseleave:function(){jQuery(this).find(".sc_video_frame_player_title").slideUp(400)}});function a(c){var b=c.data("videoframe");if(b!==""&&!c.hasClass("sc_video_active")){c.addClass("sc_video_active");c.empty().html(b);videoDimensions()}return false}jQuery(".hoverUnderline").each(function(){jQuery(this).find("a").each(function(){jQuery(this).append('<span class="hoverLine"></span>')})})}function mobileMenuShow(){if(THEMEREX_RESPONSIVE_MENU<jQuery(window).width()){jQuery(".wrapTopMenu .topMenu > ul").removeAttr("style")}}function infiniteScroll(){var a=jQuery("#viewmore_link.pagination_infinite").offset();if(jQuery(this).scrollTop()+jQuery(this).height()+100>=a.top&&!THEMEREX_VIEWMORE_BUSY){jQuery("#viewmore_link").eq(0).trigger("click")}}function itemPageFull(){var a=jQuery(window).height();jQuery(".itemPageFull").css("height",a-jQuery(".topWrap").height());jQuery("#sidemenu_scroll").css("height",a)}function initScroll(a){if(!jQuery("#"+a).hasClass("scrollInit")){jQuery("#"+a).addClass("scrollInit").mCustomScrollbar({scrollButtons:{enable:false}});jQuery(".scrollPositionAction > .roundButton").on("click",function(c){var b=jQuery(this).data("scroll");jQuery("#"+a).mCustomScrollbar("scrollTo",b);c.preventDefault();return false})}}function scrollAction(){var a=jQuery("header");var d=jQuery(".upToScroll");var f=jQuery(window).scrollTop();var b=jQuery(window).height();var e=a.height();var c=jQuery(window).width()>990;var c=a.find(".menuFixedWrap").height();if(f<=e/3&&c){a.removeClass("fixedTopMenuShow")}else{if(f>=e/1.5&&c){a.addClass("fixedTopMenuShow");if(THEMEREX_REMEMBERSCROLL<f){a.removeClass("smartScrollDown");jQuery(".menuFixedWrap").height(c)}else{if(THEMEREX_REMEMBERSCROLL>f){a.addClass("smartScrollDown");jQuery(".menuFixedWrap").height("auto")}}}}THEMEREX_REMEMBERSCROLL=f;if(f>e){d.addClass("buttonShow")}else{d.removeClass("buttonShow")}}function fullSlider(){if(jQuery(".fullScreenSlider").length>0){jQuery(".sliderHeader, .sliderHeader .rsContent").css("height",jQuery(window).height())}}function timelineResponsive(){var c=jQuery(window).height();var b=jQuery(window).height()-jQuery(".contentTimeLine h2").height()-150;var a=(jQuery(".main_content").width()-jQuery(".main").width())/2+jQuery(".sidemenu_wrap").width();jQuery(".TimeLineScroll .tlContentScroll").css("height",b)}function isotoreEffect(){var a=jQuery(".isotopeWrap ");a.find(".isotopeItem:not(.isotopeItemShow)").addClass("isotopeItemShow")}function isotopeRow(a,j){var b=a;var k=a.find(".isotopeItem:not(:hidden)");var d=0;var e=1;var f=0;var c=1;var h=[];var g=b.width();j.removeClass("itemFirst itemLast").removeAttr("data-row-num");k.filter(":visible:last").addClass("itemLast");a.find(".isotopeItem:not(:hidden)").each(function(){var i=jQuery(this).position().left;if(i==0){jQuery(this).addClass("itemFirst")}})}function isotopeScrolling(a){setTimeout(function(){jQuery("html,body").animate({scrollTop:a.offset().top+a.height()-100},"slow")},2000)}function isotopeAjaxLoad(a,l){var e=l.data("row-num");var f=l.data("postid");var c=l.parent(".isotopeWrap").find("article.isotopeItem:visible:first").data("postid");var i=l.parent(".isotopeWrap").find("article.isotopeItem:visible:last").data("postid");var j=l.prevAll("article.isotopeItem:visible").data("postid");var h=l.nextAll("article.isotopeItem:visible").data("postid");var d=THEMEREX_isotopeFilter.replace(".","").replace("*","");if(l.hasClass("isotopeActive")){return}jQuery('.isotopeItem[data-postid="'+THEMEREX_isotopeMemoryID+'"]').removeClass("isotopeActive");jQuery('.isotopeItem[data-postid="'+f+'"]').addClass("isotopeActive");var g=jQuery('<div class="fullItemWrap isotopeItem sc_loader_show '+d+'" data-postid="'+f+'"><span class="fullItemClosed icon-cancel-line" title="Closed"></span><div class="fullContent"></div></div>');isotopeRemove(a,a.find(".fullItemWrap"));var b=l.nextAll(".itemFirst").eq(0);if(!l.hasClass("itemLast")&&b.length>0){l.nextAll(".itemFirst:visible").eq(0).before(g)}else{a.find("article.itemLast").after(g)}a.isotope("destroy").isotope({layoutMode:"masonry",itemSelector:".isotopeItem",filter:THEMEREX_isotopeFilter,animationOptions:{duration:750,easing:"linear",queue:false}}).isotope("on","layoutComplete",function(){});setTimeout(function(){isotoreEffect()},500);isotopeScrolling(l);var k=jQuery(".isotopeItemWrap",".isotopeItem.isotopeActive").attr("data-url");jQuery.ajax({type:"GET",url:k,dataType:"html",cache:false,success:function(m){jQuery(".fullItemWrap").html(m)}}).done(function(){jQuery(".fullItemWrap .fullContent").parent(".fullItemWrap").addClass("ajaxShow");initShortcodes(jQuery(".fullItemWrap"));initPostFormats();jQuery(".isotopeNav.isoPrev").data("nav-id",(j!=undefined?j:i));jQuery(".isotopeNav.isoNext").data("nav-id",(h!=undefined?h:c));THEMEREX_isotopeInitCounter=0;initRelayoutIsotope(jQuery(".isotopeWrap"))});THEMEREX_isotopeMemoryID=f;return false}function isotopeFilterClass(a){jQuery(".isotopeWrap .isotopeItem").removeClass("isotopeVisible").each(function(){if(a=="*"){jQuery(this).addClass("isotopeVisible")}else{jQuery(a).addClass("isotopeVisible")}})}function isotopeRemove(c,b){var a=c;a.find('.isotopeItem[data-postid="'+THEMEREX_isotopeMemoryID+'"]').removeClass("isotopeActive");a.isotope("remove",b).isotope("layout");jQuery(".fullItemWrap.ajaxShow").remove();initRelayoutIsotope(jQuery(".isotopeWrap"));THEMEREX_isotopeMemoryID=""}function initRelayoutIsotope(a){if(!imagesCompleteLoad(a)&&THEMEREX_isotopeInitCounter++<30){setTimeout(function(){initRelayoutIsotope(a)},300);return}jQuery(".isotopeWrap").isotope("layout")}function initAppendedIsotope(c,f){if(!imagesCompleteLoad(c)&&THEMEREX_isotopeInitCounter++<30){setTimeout(function(){initAppendedIsotope(c,f)},300);return}var g=c.siblings(".isotopeFiltr");var e=c.find(".isotopeItem:not(.isotopeItemShow)").addClass("isotopeItemShow");var a=c.width();var b=c.data("foliosize");e.css("width",Math.floor(c.width()/Math.floor(c.width()/b)));isotopeRow(c,c.find("isotopeItem"));c.isotope("appended",e);for(var d in f){if(g.find('a[data-filter=".flt_'+d+'"]').length==0){g.find("ul").append('<li><a href="#" data-filter=".flt_'+d+'">'+f[d]+"</a></li>")}}}function isotopeResize(f,d){var a=f;var b=d;var e=a.data("foliosize");var c=3;if(jQuery(f).hasClass("portfolio_medium")){c=4}if(jQuery(f).hasClass("portfolio_mini")){c=6}jQuery(document).ready(function(){beforeIsotopeItemResize(f,a,b,c)});jQuery(window).smartresize(function(){beforeIsotopeItemResize(f,a,b,c)})}function beforeIsotopeItemResize(f,a,c,d){if(f.find(".fullItemWrap").length>0){isotopeRemove(f,f.find(".fullItemWrap"))}c.each(function(){var h=jQuery(this).data("incw");var i=jQuery(this).data("inch");var g=isotopeResizeMath(a.width(),d,h,i);jQuery(this).filter(":not(fullItemWrap)").css({width:g[0],height:g[1]});jQuery(f).find(".isotopeItem").css({width:g[0],height:g[1]});jQuery(this).find(".isotopeItemWrap").css({height:g[1]})});var b=jQuery(f).find(".isotopeItem").length;if(b%2!=0&&jQuery(window).width()<=600){var e=jQuery(f).find(".isotopeItem:nth-child("+b+")");jQuery(e).css({width:a.width(),height:a.width()});jQuery(e).find(".isotopeItemWrap").css({height:a.width()})}initRelayoutIsotope(f)}function isotopeResizeMath(a,c,j,g){var b=jQuery(window).width();if(b<=1200&&c>4){c=4}if(b<=900&&c>3){c=3}if(b<=600&&c>2){c=2}var i=Math.floor(a/c);var f=(i*j);var d=(i*g);var h=(100/c)*j;var e=[f,d,h];return e}function imagesCompleteLoad(b){var a=true;b.find("img").each(function(){if(!a){return}if(!jQuery(this).get(0).complete){a=false}});return a};